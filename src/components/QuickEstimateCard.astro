---
export interface Props {
  eyebrow?: string;
  title: string;
  body?: string;
  defaultCity?: string;
  submitLabel?: string;
}

const {
  eyebrow,
  title,
  body,
  defaultCity = "Carlsbad, CA",
  submitLabel = "Submit request",
} = Astro.props;
---

<div class="card space-y-4">
  {
    eyebrow && (
      <p class="text-xs font-semibold tracking-wide text-sky-700 uppercase">
        {eyebrow}
      </p>
    )
  }
  <h2 class="text-base font-semibold text-slate-900">
    {title}
  </h2>
  {body && <p class="text-sm text-slate-600">{body}</p>}

  <div class="flex flex-wrap items-center gap-2 text-[11px] text-slate-700">
    <span class="inline-flex items-center gap-1">
      <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
      <span>Licensed and insured</span>
    </span>
    <span class="inline-flex items-center gap-1">
      <span class="h-2 w-2 rounded-full bg-sky-400"></span>
      <span>Local to North County San Diego</span>
    </span>
  </div>

  <form
    id="quick-estimate-form"
    data-ga-lead="true"
    data-ga-form-name="Quick Estimate"
    data-ga-location="quick_estimate_card"
    action="https://formspree.io/f/mdkvzynw"
    method="POST"
    class="mt-3 space-y-3 text-xs"
    data-ga-form-event="estimate_request_submit"
    data-ga-label="quick_estimate_card"
  >
    <input
      type="hidden"
      name="_subject"
      value="New quick estimate request from Carlsbad Fix It"
    /><div class="grid gap-3 md:grid-cols-2">
      <div class="space-y-1">
        <label for="qe-name" class="text-xs font-medium text-slate-800"
          >Name</label
        >
        <input
          id="qe-name"
          name="name"
          type="text"
          autocomplete="name"
          class="ring-cf-accentBlue focus:border-cf-accentBlue w-full rounded-lg border border-slate-300 px-3 py-2 text-xs text-slate-900 outline-none focus:ring-1"
          placeholder="Your name"
        />
      </div>

      <div class="space-y-1">
        <label for="qe-phone" class="text-xs font-medium text-slate-800"
          >Phone</label
        >
        <input
          id="qe-phone"
          name="phone"
          type="tel"
          autocomplete="tel"
          class="ring-cf-accentBlue focus:border-cf-accentBlue w-full rounded-lg border border-slate-300 px-3 py-2 text-xs text-slate-900 outline-none focus:ring-1"
          placeholder="Best number to reach you"
        />
      </div>
    </div>

    <div class="space-y-1">
      <label for="qe-email" class="text-xs font-medium text-slate-800">
        Email <span class="font-normal text-slate-600">(optional)</span>
      </label>
      <input
        id="qe-email"
        name="email"
        type="email"
        class="ring-cf-accentBlue focus:border-cf-accentBlue w-full rounded-lg border border-slate-300 px-3 py-2 text-xs text-slate-900 outline-none focus:ring-1"
        placeholder="you@example.com"
      />
    </div>

    <div class="space-y-1">
      <label for="qe-city" class="text-xs font-medium text-slate-800"
        >City</label
      >
      <input
        id="qe-city"
        name="city"
        type="text"
        class="ring-cf-accentBlue focus:border-cf-accentBlue w-full rounded-lg border border-slate-300 px-3 py-2 text-xs text-slate-900 outline-none focus:ring-1"
        placeholder={defaultCity}
      />
    </div>

    <div class="space-y-1">
      <label for="qe-details" class="text-xs font-medium text-slate-800"
        >Project details</label
      >
      <textarea
        id="qe-details"
        name="details"
        rows={4}
        class="ring-cf-accentBlue focus:border-cf-accentBlue w-full rounded-lg border border-slate-300 px-3 py-2 text-xs text-slate-900 outline-none focus:ring-1"
        placeholder="Briefly describe the work you need help with"></textarea>
    </div>

    <div>
      <button
        type="submit"
        class="btn-primary w-full text-xs tracking-wide uppercase"
      >
        {submitLabel}
      </button>
      <p class="mt-2 text-[11px] text-slate-500">
        No obligation. Typical reply within one business day.
      </p>
    </div>
  </form>
</div>
