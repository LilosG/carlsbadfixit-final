---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { services } from "../../data/services";
import { serviceAreas } from "../../data/service-areas";
import PageCtaStrip from "../../components/PageCtaStrip.astro";

const primaryArea =
  serviceAreas.find((area) => area.primary) ?? serviceAreas[0];
const nearbyAreas = serviceAreas.filter((area) => !area.primary);
---

<BaseLayout
  title="Handyman Services in Carlsbad & North County San Diego | Carlsbad Fix It"
  description="Browse core handyman services from Carlsbad Fix It, including carpentry, electrical, plumbing fixture repairs, furniture assembly, honey-do lists, drywall repair, and TV mounting for homes in Carlsbad and North County San Diego."
>
  <section class="shadow-card rounded-3xl bg-white p-6 md:p-8">
    <div
      class="grid gap-10 lg:grid-cols-[minmax(0,1.6fr)_minmax(0,1.1fr)] lg:items-start"
    >
      <div class="space-y-5">
        <div class="space-y-2">
          <p class="eyebrow text-cf-textMuted">Services</p>
          <h1 class="text-display text-cf-text font-semibold tracking-tight">
            Handyman services for homes in {primaryArea.label} and North County
          </h1>
          <p class="text-body-sm text-cf-textMuted max-w-2xl">
            Carlsbad Fix It focuses on small to medium home projects that fit
            into realistic service windows—carpentry, electrical, plumbing
            fixtures, furniture assembly, honey-do lists, drywall repair, and TV
            mounting across coastal North County San Diego.
          </p>
        </div>

        <ul class="text-cf-textMuted grid gap-3 text-sm sm:grid-cols-2">
          <li class="flex gap-2">
            <span
              class="bg-cf-sandSoft text-cf-primary mt-1 inline-flex h-5 w-5 items-center justify-center rounded-full text-[11px] font-semibold"
            >
              ✓
            </span>
            <span
              >Licensed and insured local handyman based in {
                primaryArea.label
              }.</span
            >
          </li>
          <li class="flex gap-2">
            <span
              class="bg-cf-sandSoft text-cf-primary mt-1 inline-flex h-5 w-5 items-center justify-center rounded-full text-[11px] font-semibold"
            >
              ✓
            </span>
            <span
              >Visits scoped so projects fit into clear, realistic service
              windows.</span
            >
          </li>
          <li class="flex gap-2">
            <span
              class="bg-cf-sandSoft text-cf-primary mt-1 inline-flex h-5 w-5 items-center justify-center rounded-full text-[11px] font-semibold"
            >
              ✓
            </span>
            <span
              >Ideal for lists of small to medium projects instead of full
              remodels.</span
            >
          </li>
          <li class="flex gap-2">
            <span
              class="bg-cf-sandSoft text-cf-primary mt-1 inline-flex h-5 w-5 items-center justify-center rounded-full text-[11px] font-semibold"
            >
              ✓
            </span>
            <span
              >Serving {primaryArea.label} plus nearby areas like {
                nearbyAreas.map((a) => a.name).join(", ")
              }.</span
            >
          </li>
        </ul>

        <div class="flex flex-wrap items-center gap-3 text-sm">
          <a href="/contact/" class="btn-primary"> Request an estimate </a>
          <a
            href="tel:+18082266681"
            data-ga-event="call_click"
            data-ga-label="site_phone"
            class="border-cf-accentBlueSoft to-cf-accentBlueSoft/40 text-cf-accentBlue shadow-soft hover:to-cf-accentBlueSoft/70 inline-flex items-center justify-center rounded-full border bg-gradient-to-r from-white px-5 py-2 text-sm font-semibold hover:from-white"
          >
            Call or text (808) 226-6681
          </a>
        </div>
      </div>

      <aside
        class="bg-cf-sandSoft text-cf-text shadow-soft space-y-4 rounded-3xl p-5 text-sm"
      >
        <p class="eyebrow text-cf-textMuted">Where we work</p>
        <h2 class="text-cf-text text-lg font-semibold">
          Focused on small home projects in North County San Diego
        </h2>
        <p class="text-body-sm text-cf-textMuted">
          Most visits start in {primaryArea.label} and nearby neighborhoods, with
          service available in other coastal and inland communities when travel still
          allows a realistic service window.
        </p>
        <div class="mt-3">
          <p
            class="text-cf-textMuted text-xs font-semibold tracking-wide uppercase"
          >
            Primary service area
          </p>
          <p class="text-cf-text mt-1 text-sm">
            {primaryArea.label}
          </p>
        </div>
        <div class="mt-3">
          <p
            class="text-cf-textMuted text-xs font-semibold tracking-wide uppercase"
          >
            Also serving
          </p>
          <div class="mt-2 flex flex-wrap gap-2 text-[11px]">
            {
              nearbyAreas.map((area) => (
                <a
                  href={`/service-areas/${area.slug}/`}
                  class="text-cf-text shadow-soft hover:bg-cf-sandSoft inline-flex items-center rounded-full bg-white px-3 py-1"
                >
                  {area.label}
                </a>
              ))
            }
          </div>
        </div>
      </aside>
    </div>
  </section>

  <section class="bg-cf-sandSoft mt-8 rounded-3xl p-6 md:p-8">
    <div
      class="flex flex-col gap-3 md:flex-row md:items-end md:justify-between"
    >
      <div class="space-y-2">
        <p class="eyebrow text-cf-textMuted">Core services</p>
        <h2 class="text-h2 text-cf-text font-semibold">
          Handyman services you can book with Carlsbad Fix It
        </h2>
        <p class="text-body-sm text-cf-textMuted max-w-2xl">
          These services reflect the projects North County homeowners call about
          most. You can book a single service or combine several small tasks
          into the same visit when they fit in the same service window.
        </p>
      </div>
    </div>

    <div class="mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      {
        services.map((service) => (
          <article class="text-cf-text shadow-soft flex h-full flex-col justify-between rounded-2xl bg-white p-5 text-sm">
            <div class="space-y-2">
              <h3 class="text-cf-text text-sm font-semibold">{service.name}</h3>
              <p class="text-cf-textMuted text-xs">
                {service.shortDescription}
              </p>
              {service.examples && service.examples.length > 0 && (
                <ul class="text-cf-textMuted mt-3 space-y-1 text-[11px]">
                  {service.examples.slice(0, 3).map((example) => (
                    <li class="flex gap-2">
                      <span class="bg-cf-sandSoft text-cf-primary mt-1 inline-flex h-4 w-4 items-center justify-center rounded-full text-[9px] font-semibold">
                        •
                      </span>
                      <span>{example}</span>
                    </li>
                  ))}
                </ul>
              )}
            </div>
            <div class="mt-4 flex flex-wrap items-center gap-2 text-[11px]">
              <a
                href={`/services/${service.slug}/`}
                class="btn-primary h-8 px-4 text-[11px]"
              >
                View service details
              </a>
              <a
                href={`/service-areas/${primaryArea.slug}/${service.slug}/`}
                class="bg-cf-sandSoft text-cf-text hover:bg-cf-card inline-flex h-8 items-center rounded-full px-3 text-[11px] font-semibold"
              >
                View local availability
              </a>
            </div>
          </article>
        ))
      }
    </div>
  </section>

  <PageCtaStrip
    eyebrow="Next steps"
    title={`Ready to schedule a handyman visit in ${primaryArea.label} or nearby?`}
    body={`Share your punch list, preferred timing, and any helpful photos. You will receive clear next steps and a no-obligation estimate for small to medium projects in ${primaryArea.label} and other North County communities.`}
  />
</BaseLayout>
